(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5690:(e,l,r)=>{"use strict";r.d(l,{default:()=>a});var s=r(5155),t=r(2115);function a(){let[e,l]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let e=()=>{l(window.scrollY>300)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"scroll-to-top ".concat(e?"visible":""),"aria-label":"Scroll to top",children:"↑"})}},5716:(e,l,r)=>{Promise.resolve().then(r.t.bind(r,2619,23)),Promise.resolve().then(r.t.bind(r,1356,23)),Promise.resolve().then(r.bind(r,6771)),Promise.resolve().then(r.bind(r,5690))},6771:(e,l,r)=>{"use strict";r.d(l,{default:()=>n});var s=r(5155),t=r(2115),a=r(5239);function n(){let[e,l]=(0,t.useState)({product:"",quantity:1,price:0,name:"",email:"",phone:"",address:""}),r=e=>{let{name:r,value:s}=e.target;l(e=>({...e,[r]:"quantity"===r?parseInt(s):s}))},n=async l=>{var r;l.preventDefault();let s=null!=(r=({phone:499.99,laptop:999.99,watch:199.99})[e.product])?r:0;try{let l=await fetch("/api/create_order.php",{method:"POST",headers:{"Content-Type":"application/json","X-API-TOKEN":"SECRET_TOKEN_123"},body:JSON.stringify({...e,price:s})}),r=await l.json();if(!l.ok)throw Error(r.error||"Ошибка при отправке формы");alert("Заказ успешно оформлен!")}catch(e){e instanceof Error?(console.error("Ошибка:",e.message),alert("Произошла ошибка: "+e.message)):console.error("Неизвестная ошибка:",e)}};return(0,s.jsx)("section",{id:"order",className:"section order",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"img-container",children:(0,s.jsx)(a.default,{src:"/phone_dewlight/images/phone.jpg",alt:"Phone Dewlight",width:300,height:600,className:"main-img"})}),(0,s.jsxs)("div",{className:"w-60 ml-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"h2",children:"MAKE A BOOKING"}),(0,s.jsx)("p",{className:"regular",children:"Впустите Сияние Инноваций"})]}),(0,s.jsxs)("form",{className:"w-full md:w-1/2 space-y-4 text-left",onSubmit:n,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"product",children:"Выберите товар:"}),(0,s.jsxs)("select",{id:"product",name:"product",value:e.product,onChange:r,className:"w-full mt-1 p-2 border rounded",required:!0,children:[(0,s.jsx)("option",{value:"",children:"-- Выберите --"}),(0,s.jsx)("option",{value:"phone",children:"Смартфон"}),(0,s.jsx)("option",{value:"laptop",children:"Ноутбук"}),(0,s.jsx)("option",{value:"watch",children:"Смарт-часы"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"quantity",children:"Количество:"}),(0,s.jsx)("input",{type:"number",id:"quantity",name:"quantity",min:1,value:e.quantity,onChange:r,className:"w-full mt-1 p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",children:"Имя:"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:r,placeholder:"Имя",className:"w-full mt-1 p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:r,placeholder:"Email",className:"w-full mt-1 p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",children:"Телефон:"}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:r,placeholder:"Телефон",className:"w-full mt-1 p-2 border rounded",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"address",children:"Адрес:"}),(0,s.jsx)("input",{type:"text",id:"address",name:"address",value:e.address,onChange:r,placeholder:"Адрес доставки",className:"w-full mt-1 p-2 border rounded",required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"big-btn",children:"submit"})]})]})]})})}}},e=>{e.O(0,[481,441,255,358],()=>e(e.s=5716)),_N_E=e.O()}]);